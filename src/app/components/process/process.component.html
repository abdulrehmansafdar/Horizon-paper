<section id="process" class="py-20 bg-gradient-to-br from-slate-50 to-emerald-50">
  <div class="container mx-auto px-4">
    <!-- Header Section -->
    <div class="text-center mb-16">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-emerald-100 rounded-full mb-6">
        <svg class="w-8 h-8 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
        </svg>
      </div>
      <h2 class="text-5xl font-bold bg-gradient-to-r from-slate-900 via-emerald-800 to-slate-900 bg-clip-text text-transparent mb-6">
        Manufacturing Process
      </h2>
      <p class="text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed">
        Our state-of-the-art manufacturing process ensures consistent quality and efficiency at every step,
        delivering excellence through innovation and precision.
      </p>
    </div>

    <!-- Carousel Container -->
    <div class="relative max-w-7xl mx-auto" role="region" aria-roledescription="carousel" aria-label="Manufacturing steps carousel">
      <!-- Carousel Wrapper -->
      <div class="overflow-hidden rounded-2xl">
        <div class="flex transition-transform duration-500 ease-in-out" 
             [style.transform]="'translateX(-' + (currentSlide * slideWidth) + '%)'">
          
          <!-- Process Cards -->
          <div *ngFor="let process of manufacturingProcess; let i = index" 
               class="flex-shrink-0 px-3"
               [style.width.%]="slideWidth">
            <div class="group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-emerald-100 overflow-hidden h-full">
              
              <!-- Enhanced Step Number Badge -->
              <div class="absolute -top-2 -right-2 z-20">
                <!-- Main badge container -->
                <div class="relative">
                  <!-- Outer glow ring -->
                  <div class="absolute inset-0 w-16 h-16 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full opacity-30 scale-110 animate-pulse"></div>
                  
                  <!-- Main badge -->
                  <div class="relative w-16 h-16 bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 rounded-full flex items-center justify-center shadow-xl border-4 border-white group-hover:scale-110 transition-transform duration-300">
                    <!-- Inner gradient highlight -->
                    <div class="absolute inset-1 bg-gradient-to-br from-emerald-400 to-transparent rounded-full opacity-40"></div>
                    
                    <!-- Step number -->
                    <span class="relative text-white font-bold text-lg font-mono tracking-wider drop-shadow-lg">
                      {{ process.step.toString().padStart(2, '0') }}
                    </span>
                    
                    <!-- Decorative elements -->
                    <div class="absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full opacity-80 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <div class="absolute -bottom-1 -left-1 w-2 h-2 bg-emerald-300 rounded-full opacity-60 group-hover:opacity-100 transition-opacity duration-300"></div>
                  </div>
                  
                  <!-- Step indicator line (connects to next step) -->
                  <div *ngIf="i < manufacturingProcess.length - 1" 
                       class="absolute top-8 left-12 w-8 h-0.5 bg-gradient-to-r from-emerald-400 to-emerald-200 opacity-50 group-hover:opacity-100 transition-opacity duration-300 hidden lg:block"></div>
                </div>
              </div>

              <div class="p-8 pt-12">
                <!-- Icon Circle -->
                <div class="relative mb-6">
                  <div class="w-20 h-20 bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 rounded-2xl flex items-center justify-center mx-auto shadow-xl group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="process.iconPath"></path>
                    </svg>
                  </div>
                  <!-- Decorative rings -->
                  <div class="absolute inset-0 w-20 h-20 mx-auto rounded-2xl border-2 border-emerald-200 scale-125 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                  
                  <!-- Floating particles effect -->
                  <div class="absolute top-2 right-2 w-1 h-1 bg-emerald-400 rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-bounce transition-all duration-300 delay-100"></div>
                  <div class="absolute bottom-2 left-2 w-1.5 h-1.5 bg-emerald-300 rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-pulse transition-all duration-300 delay-200"></div>
                  <div class="absolute top-4 left-4 w-1 h-1 bg-emerald-500 rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-ping transition-all duration-300 delay-300"></div>
                </div>

                <!-- Content -->
                <div class="text-center">
                  <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-emerald-700 transition-colors duration-300">
                    {{ process.title }}
                  </h3>
                  <p class="text-slate-600 leading-relaxed text-sm">
                    {{ process.desc }}
                  </p>
                </div>

                <!-- Enhanced Progress indicator -->
                <div class="mt-6 flex justify-center">
                  <div class="w-full bg-emerald-100 rounded-full h-2 relative overflow-hidden">
                    <!-- Background pattern -->
                    <div class="absolute inset-0 bg-gradient-to-r from-emerald-50 to-emerald-100 opacity-50"></div>
                    
                    <!-- Progress bar -->
                    <div class="bg-gradient-to-r from-emerald-500 via-emerald-600 to-emerald-700 h-2 rounded-full transition-all duration-1000 relative overflow-hidden"
                         [style.width.%]="(process.step / manufacturingProcess.length) * 100">
                      <!-- Animated shine effect -->
                      <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 transform -skew-x-12 animate-pulse"></div>
                    </div>
                    
                    <!-- Progress percentage text -->
                    <div class="absolute right-2 -top-6 text-xs font-medium text-emerald-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                      {{ calculatePercentage(process.step) }}%
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Navigation Buttons -->
      <button *ngIf="currentSlide > 0"
              (click)="prevSlide()"
              class="absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white rounded-full shadow-lg border border-emerald-100 flex items-center justify-center text-emerald-600 hover:bg-emerald-50 transition-all duration-300 z-10">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
      </button>

      <button *ngIf="currentSlide < maxSlides - 1"
              (click)="nextSlide()"
              class="absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white rounded-full shadow-lg border border-emerald-100 flex items-center justify-center text-emerald-600 hover:bg-emerald-50 transition-all duration-300 z-10">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>
    </div>

    <!-- Enhanced Dot Indicators -->
    <div class="flex justify-center mt-8 space-x-3">
      <button *ngFor="let slide of slides; let i = index"
              (click)="goToSlide(i)"
              class="relative w-4 h-4 rounded-full transition-all duration-300 group"
              [class.bg-emerald-600]="i === currentSlide"
              [class.bg-emerald-200]="i !== currentSlide"
              [class.scale-125]="i === currentSlide">
        <!-- Active indicator glow -->
        <div *ngIf="i === currentSlide" 
             class="absolute inset-0 bg-emerald-400 rounded-full scale-150 opacity-30 animate-pulse"></div>
        
        <!-- Step number tooltip -->
        <div class="absolute -top-8 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap">
          Step {{ i + 1 }}
        </div>
      </button>
    </div>
  </div>
</section>